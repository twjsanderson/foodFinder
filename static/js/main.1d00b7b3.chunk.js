(this["webpackJsonpsearch-table"]=this["webpackJsonpsearch-table"]||[]).push([[0],{110:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),c=a.n(l),s=(a(79),a(80),a(29)),o=a(118),u=a(117),i=a(36),m=a(61),p=function(){return r.a.createElement(o.a,{bg:"primary",expand:"xs"},r.a.createElement(o.a.Brand,{className:"text-white"},r.a.createElement(i.a,{icon:m.a,style:{fontSize:"2.5em"}})),r.a.createElement(o.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(o.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(u.a,{className:"text-center"},r.a.createElement(s.b,{to:"/",className:"nav-btn text-white"},"Home"),r.a.createElement(s.b,{to:"/about",className:"nav-btn text-white"},"About"))))},E=a(26),h=a(14),d=a(15),f=a(17),y=a(16),g=(a(90),a(112)),N=a(113),b=a(114),v=a(47),R=a.n(v),S=a(65),T=a(34),A=a.n(T),w=a(24),C=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(g.a,null,r.a.createElement(N.a,{className:"h-100 d-flex justify-content-center align-items-end p-2"},r.a.createElement(b.a,{md:4},r.a.createElement("label",{className:"p-2"},r.a.createElement("h5",null,r.a.createElement("strong",null,"City"))),r.a.createElement("input",{type:"text",className:"input",placeholder:"Enter city name",onChange:function(t){return e.props.fetchRestaurants(t.target.value)}})),r.a.createElement(b.a,{md:4},r.a.createElement("label",{className:"p-2"},r.a.createElement("h5",null,r.a.createElement("strong",null,"Filter"))),r.a.createElement("input",{type:"text",className:"input",placeholder:"Search by name, address or area",onChange:function(t){return e.props.refineSearch(t.target.value)}})),r.a.createElement(b.a,{md:4,className:"text-left"},r.a.createElement("small",null,"*Search results limited to 25 per page"))))}}]),a}(r.a.Component),j={fetchRestaurants:function(e){return function(t){if(e.length>0)return A.a.get("http://opentable.herokuapp.com/api/restaurants?city=".concat(e)).then((function(e){var a=e.data.restaurants,n=e.data.total_entries,r=e.data.current_page;t({type:"CURRENT_PAGE",payload:r}),t({type:"TOTAL_ENTRIES",payload:n}),t({type:"RECEIVED_RESTAURANTS",payload:a}),t({type:"REFINED_RESTAURANTS",payload:[]})})).catch((function(e){console.log("fetchRestaurants error: ",e)}));t({type:"RECEIVED_RESTAURANTS",payload:[]}),t({type:"REFINED_RESTAURANTS",payload:[]})}},refineSearch:function(e){return function(){var t=Object(S.a)(R.a.mark((function t(a,n){var r,l,c,s,o;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n().restaurants,e&&r&&(c=r.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})),s=r.filter((function(t){return t.address.toLowerCase().includes(e.toLowerCase())})),o=r.filter((function(t){return t.area.toLowerCase().includes(e.toLowerCase())})),l=c.length>0?c:s.length>0?s:o.length>0?o:[],a({type:"REFINED_RESTAURANTS",payload:l}));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}},O=Object(w.b)(null,j)(C),_=a(115),k=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement(g.a,null,r.a.createElement(N.a,null,r.a.createElement(b.a,{md:4},r.a.createElement("img",{src:this.props.restaurant.image_url,className:"img-fluid p-2",alt:"city restaurant"})),r.a.createElement(b.a,{md:8,key:this.props.restaurant.id,className:"p-3"},r.a.createElement(N.a,null,r.a.createElement("h5",null,r.a.createElement("strong",null,"Name:")),r.a.createElement("h5",{className:"pl-2"},this.props.restaurant.name)),r.a.createElement(N.a,null,r.a.createElement("h5",null,r.a.createElement("strong",null,"Address:")),r.a.createElement("h5",{className:"pl-2"},this.props.restaurant.address)),r.a.createElement(N.a,null,r.a.createElement("h5",null,r.a.createElement("strong",null,"Price:")),r.a.createElement("h5",{className:"pl-2"},this.props.restaurant.price)),this.props.refined?r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,null,r.a.createElement("h5",null,r.a.createElement("strong",null,"Postal Code:")),r.a.createElement("h5",{className:"pl-2"},this.props.restaurant.postal_code)),r.a.createElement(N.a,null,r.a.createElement("h5",null,r.a.createElement("strong",null,"Area:")),r.a.createElement("h5",{className:"pl-2"},this.props.restaurant.area))):null,r.a.createElement(N.a,null,r.a.createElement(_.a,{onClick:function(){return e.props.restaurantDetails(e.props.restaurant.id)}},"Details"))))))}}]),a}(r.a.Component),x=a(116),D=Object(w.b)((function(e){return{restaurant:e.details}}))((function(e){var t=e.onHide,a=e.restaurant,n=e.show;return r.a.createElement(x.a,{show:n,size:"lg",centered:!0},r.a.createElement(x.a.Header,{closeButton:!0},r.a.createElement(x.a.Title,null,r.a.createElement("h2",null,a.name))),r.a.createElement(x.a.Body,null,r.a.createElement(N.a,{className:"p-2"},r.a.createElement("h4",null,r.a.createElement("strong",null,"Addresss:")),r.a.createElement("h4",{className:"pl-2"},a.address)),r.a.createElement(N.a,{className:"p-2"},r.a.createElement("h4",null,r.a.createElement("strong",null,"Postal Code:")),r.a.createElement("h4",{className:"pl-2"},a.postal_code)),r.a.createElement(N.a,{className:"p-2"},r.a.createElement("h4",null,r.a.createElement("strong",null,"City:")),r.a.createElement("h4",{className:"pl-2"},a.city)),r.a.createElement(N.a,{className:"p-2"},r.a.createElement("h4",null,r.a.createElement("strong",null,"State:")),r.a.createElement("h4",{className:"pl-2"},a.state)),r.a.createElement(N.a,{className:"p-2"},r.a.createElement("h4",null,r.a.createElement("strong",null,"Country:")),r.a.createElement("h4",{className:"pl-2"},a.country)),r.a.createElement(N.a,{className:"p-2"},r.a.createElement("h4",null,r.a.createElement("strong",null,"Phone:")),r.a.createElement("h4",{className:"pl-2"},a.phone)),r.a.createElement(N.a,{className:"p-2"},r.a.createElement("h4",null,r.a.createElement("strong",null,"Price:")),r.a.createElement("h4",{className:"pl-2"},a.price))),r.a.createElement(x.a.Footer,null,r.a.createElement(_.a,{onClick:t},"Close")))})),I=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).restaurantDetails=function(t){e.props.fetchRestaurant(t),e.props.setModalShow(!0)},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(g.a,null,r.a.createElement("ul",null,this.props.refined.length>0?this.props.refined.map((function(t){return r.a.createElement(k,{key:t.id,restaurant:t,refined:!0,restaurantDetails:e.restaurantDetails})})):this.props.restaurants.length>0?this.props.restaurants.map((function(t){return r.a.createElement(k,{key:t.id,restaurant:t,refined:!1,restaurantDetails:e.restaurantDetails})})):r.a.createElement("h4",{className:"text-center p-2 mr-5 text-primary"},"Start by entering your city name!")),r.a.createElement(N.a,null,r.a.createElement(b.a,{className:"text-left"},this.props.refined.length>0||this.props.restaurants.length>0?r.a.createElement(_.a,{variant:"secondary",onClick:function(){return e.props.decrementRestaurants()}},"Back"):null),r.a.createElement(b.a,{className:"text-right"},this.props.refined.length>0||this.props.restaurants.length>0?r.a.createElement(_.a,{variant:"secondary",onClick:function(){return e.props.incrementRestaurants()}},"Next"):null)),r.a.createElement(D,{id:this.props.restaurants,show:this.props.modalShow,onHide:function(){return e.props.setModalShow(!1)}}))}}]),a}(r.a.Component),U={fetchRestaurant:function(e){return function(t){return A.a.get("http://opentable.herokuapp.com/api/restaurants/".concat(e)).then((function(e){var a=e.data;t({type:"RESTAURANT_DETAILS",payload:a})})).catch((function(e){console.log("fetchRestaurant error: ",e)}))}},setModalShow:function(e){return function(t){t({type:"MODAL_SHOW",payload:e})}},incrementRestaurants:function(){return function(e,t){var a=t().page,n=t().total_entries,r=t().restaurants[0].city;if(a<=n)return a++,A.a.get("http://opentable.herokuapp.com/api/restaurants?city=".concat(r,"&page=").concat(a)).then((function(t){var a=t.data.restaurants,n=t.data.current_page;e({type:"CURRENT_PAGE",payload:n}),e({type:"RECEIVED_RESTAURANTS",payload:a}),e({type:"REFINED_RESTAURANTS",payload:[]})})).catch((function(e){console.log("increment error: ",e)}))}},decrementRestaurants:function(){return function(e,t){var a=t().page,n=t().restaurants[0].city;if(a>1)return a--,A.a.get("http://opentable.herokuapp.com/api/restaurants?city=".concat(n,"&page=").concat(a)).then((function(t){var a=t.data.restaurants,n=t.data.current_page;e({type:"CURRENT_PAGE",payload:n}),e({type:"RECEIVED_RESTAURANTS",payload:a}),e({type:"REFINED_RESTAURANTS",payload:[]})})).catch((function(e){console.log("decrement error: ",e)}))}}},F=Object(w.b)((function(e){return{restaurants:e.restaurants,refined:e.refined,modalShow:e.modalShow}}),U)(I),L=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(g.a,{className:"p-1"},r.a.createElement(N.a,{className:"justify-content-center text-center py-3"},r.a.createElement(b.a,{md:10},r.a.createElement("h1",{className:"title"},"Food Finder"),r.a.createElement("h2",{className:"subtitle"},"Connecting hungry people with good food"))),r.a.createElement(N.a,{className:"justify-content-center py-3"},r.a.createElement(b.a,{md:10},r.a.createElement(O,null),r.a.createElement(F,null)))))}}]),a}(r.a.Component),P=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement(g.a,{className:"p-1"},r.a.createElement(N.a,{className:"justify-content-center text-center py-3"},r.a.createElement(b.a,{md:9},r.a.createElement("h1",{className:"title"},"About"),r.a.createElement("h2",{className:"subtitle"},"Food Finder: A Project by Tom Sanderson"),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("p",null,"The Food Finder app was created to help people find the best restaurants in major cities across Canada and the United States. It was built with React/Redux, Bootstrap 4 and restaurant data pulled from the",r.a.createElement("a",{href:"https://opentable.herokuapp.com/"}," Opentable API"),"."),r.a.createElement("br",null),r.a.createElement("p",null,"Send questions and inquiries to Tom at ",r.a.createElement("span",{className:"text-primary"},"twjsanderson@yahoo.ca"),"or checkout his ",r.a.createElement("a",{href:"https://portfolio-8af66.firebaseapp.com/"},"portfolio"),". To look at the Food Finder source code take a look at his Github Repo."))))}}]),a}(r.a.Component),B=r.a.createElement(E.d,null,r.a.createElement(E.b,{exact:!0,path:"/",component:L}),r.a.createElement(E.b,{exact:!0,path:"/about",component:P}),r.a.createElement(E.a,{path:"*",to:"/"})),H=a(70),M=function(){return r.a.createElement(o.a,{bg:"primary",expand:"lg"},r.a.createElement(u.a,{className:"mx-auto"},r.a.createElement(i.a,{icon:H.a,style:{fontSize:"2.5em"}})))},G=function(){return r.a.createElement(s.a,null,r.a.createElement(p,null),r.a.createElement("section",{id:"app"},B),r.a.createElement(M,null))},V=a(23),W=a(71),z=a(72),q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVED_RESTAURANTS":return t.payload;default:return e}},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REFINED_RESTAURANTS":return t.payload;default:return e}},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESTAURANT_DETAILS":return t.payload;default:return e}},K=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MODAL_SHOW":return t.payload;default:return e}},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CURRENT_PAGE":return t.payload;default:return e}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOTAL_ENTRIES":return t.payload;default:return e}},Y=Object(V.combineReducers)({restaurants:q,refined:J,details:$,modalShow:K,page:Q,total_entries:X});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(109);var Z=function(){var e=[W.a],t=Object(z.composeWithDevTools)(V.applyMiddleware.apply(void 0,e));return Object(V.createStore)(Y,t)}();c.a.render(r.a.createElement(w.a,{store:Z},r.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},74:function(e,t,a){e.exports=a(110)},79:function(e,t,a){},80:function(e,t,a){},90:function(e,t,a){}},[[74,1,2]]]);
//# sourceMappingURL=main.1d00b7b3.chunk.js.map